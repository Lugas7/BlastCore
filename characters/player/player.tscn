[gd_scene load_steps=8 format=3 uid="uid://cdsxn8ypvjpq"]

[ext_resource type="Script" path="res://characters/player/player.gd" id="1_v2mqh"]
[ext_resource type="Texture2D" uid="uid://bu5fn2xmoysms" path="res://assets/player_model/simple/simple_2.png" id="2_w0esc"]
[ext_resource type="PackedScene" uid="uid://djw0dfrxnpur0" path="res://wepons/shooting_wepons/gun.tscn" id="3_yxuec"]
[ext_resource type="Script" path="res://states/state_machine.gd" id="4_0sg23"]
[ext_resource type="Script" path="res://characters/player/dash_state.gd" id="5_shvip"]
[ext_resource type="Script" path="res://characters/player/walk_state.gd" id="6_iis7t"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pev4g"]
size = Vector2(129.5, 129)

[node name="Player 2D" type="CharacterBody2D" groups=["Player"]]
collision_layer = 4
motion_mode = 1
script = ExtResource("1_v2mqh")

[node name="Node2D" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="Node2D"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_w0esc")

[node name="Gun" parent="." instance=ExtResource("3_yxuec")]
position = Vector2(0, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_pev4g")

[node name="State Machine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("4_0sg23")
initial_state = NodePath("WalkState")

[node name="DashState" type="Node" parent="State Machine" node_paths=PackedStringArray("player")]
script = ExtResource("5_shvip")
player = NodePath("../..")

[node name="WalkState" type="Node" parent="State Machine" node_paths=PackedStringArray("player")]
script = ExtResource("6_iis7t")
player = NodePath("../..")

[connection signal="transition" from="State Machine/DashState" to="State Machine" method="_on_state_transition"]
[connection signal="transition" from="State Machine/WalkState" to="State Machine" method="_on_state_transition"]
